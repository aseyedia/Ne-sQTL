libPaths()
libpaths
library(package)
libPath
libPaths
libPath()
libPaths()
.libPaths
.Library
.Lib
Library
.Library.site
.libPaths()
importIntoEnv()
exit
exit()
q()
.libPaths()
install.packages("swirl")
installed.packages("devtools")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
install.packages("rstan")
install.packages("rstan")
install.packages("Eigen")
install.packages("Dense")
install.packages("Eigen/Dense")
install.packages("rstan")
clear
l
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter", dependencies = TRUE)
install.packages("swirl")
getwd()
getwd()
setwd("/home/arta/Documents/GitHub/Ne-sQTL/scratch/")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = t(out)
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename(args[1]))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename(args[2]))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
out <- out[complete.cases(out),]
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out <- out[complete.cases(out)]
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
out <- out[complete.cases(out),]
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out <- out[complete.cases(out),]
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
z <- out[,complete.cases(out)]
z <- out[complete.cases(out),]
new_DF <- out[rowSums(is.na(out)) > 0,]
rm(z)
View(new_DF)
z <- x[complete.cases(x), ]
z <- out[complete.cases(out), ]
View(new_DF)
View(z)
?t()
z <- out[complete.cases(out),complete.cases(t(out))]
out[complete.cases(out),complete.cases(t(out))]
?read.csv
x = matrix(seq(16), ncol = 4)
x[2,3]= NA
x
x[complete.cases(x),complete.cases(t(x))]
out[complete.cases(out),complete.cases(t(out))]
View(out)
complete.cases(out)
complete.cases(t(out)
complete.cases(t(out))
complete.cases(t(out))
?complete.cases
na.fail(out)
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
na.omit(out)
z <- na.omit(out)
colSums(is.na(out))
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
# make the use of "id" header standard
setnames(gtexPC, "ID", "id")
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
colSums(is.na(out))
View(out)
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Whole_Blood.v7.covariates.txt")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Whole_Blood.v7.covariates.txt")
# make the use of "id" header standard
setnames(gtexPC, "ID", "id")
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Whole_Blood.v7.covariates.txt")
# make the use of "id" header standard
setnames(gtexPC, "ID", "id")
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
colSums(is.na(out))
z <- na.omit(out)
?na.omit
data.table::na.omit(out)
stats::na.omit(out)
stats::na.omit(t(out))
q <- na.omit(t(out))
q <- t(q)
q
View(q)
q <- na.omit(t(q))
q <- na.omit(t(q))
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Whole_Blood.v7.covariates.txt")
# make the use of "id" header standard
setnames(gtexPC, "ID", "id")
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out <- t(na.omit(t(out)))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
View(out)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
#leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
#gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Whole_Blood.v7.covariates.txt")
# make the use of "id" header standard
setnames(gtexPC, "ID", "id")
# concatenate; fill missing values with na, but then remove
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out <- t(na.omit(t(out)))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
#                                                                 args[2]
outfile <- gsub(" ", "", paste("tissue", "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
