libPaths()
libpaths
library(package)
libPath
libPaths
libPath()
libPaths()
.libPaths
.Library
.Lib
Library
.Library.site
.libPaths()
importIntoEnv()
exit
exit()
q()
.libPaths()
install.packages("swirl")
installed.packages("devtools")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
install.packages("rstan")
install.packages("rstan")
install.packages("Eigen")
install.packages("Dense")
install.packages("Eigen/Dense")
install.packages("rstan")
clear
l
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter", dependencies = TRUE)
install.packages("swirl")
getwd()
set.seed(1)
rpois(5, 2)
set.seed(1)
rpois(5, 2)
set.seed(10)
x <- rep(0:1, each = 5)
e <- rnorm(10, 0, 20)
y <- 0.5 + 2 * x + e
?rep
setwd("Documents/GitHub/Ne-sQTL/scratch/")
require("data.table")
require("R.utils")
args = commandArgs(trailingOnly=TRUE)
# args[1] is the leafcutter-generated phenotypes, args[2] is the tissue table
NE <- fread("NE_sQTL_perind.counts.gz.qqnorm_chr13")
tistab <- fread("tissue_table.txt")
# below takes the SRR IDs found in NE column headers, matches them to those found in the
# tissue table, and then changes them the GTEX sample ID
ind <- match(names(NE), tistab$Run)
names(NE) <- tistab$Sample_Name[ind]
# I guess now what I want to do is find the tissue that corresponds to each sample, and write
# to file the phenotypes or whatever
dput(head(NE, 10))
dput(head(tissue_table, 10))
dput(head(tistab, 10))
split(Sample_Name, body_site)
tistab[, split(Sample_Name, body_site)]
sites <- tistab[, split(Sample_Name, body_site)]
View(sites)
require("data.table")
requirse("R.utils")
args = commandArgs(trailingOnly=TRUE)
# args[1] is the leafcutter-generated phenotypes, args[2] is the tissue table
NE <- fread("NE_sQTL_perind.counts.gz.qqnorm_chr13")
tistab <- fread("tissue_table.txt")
# below takes the SRR IDs found in NE column headers, matches them to those found in the
# tissue table, and then changes them the GTEX sample ID
ind <- match(names(NE), tistab$Run)
names(NE) <- tistab$Sample_Name[ind]
# I guess now what I want to do is find the tissue that corresponds to each sample, and write
# to file the phenotypes or whatever
sites <- tistab[, split(Sample_Name, body_site)]
View(sites)
keep <- c('#Chr', 'start', 'end', 'ID')
lapply(sites, function(x)
NE[, .SD, .SDcols = c(keep, intersect(names(NE), x))])
View(sites)
dput(sites)
View(sites)
require("data.table")
requirse("R.utils")
args = commandArgs(trailingOnly=TRUE)
# args[1] is the leafcutter-generated phenotypes, args[2] is the tissue table
NE <- fread("NE_sQTL_perind.counts.gz.qqnorm_chr13")
tistab <- fread("tissue_table.txt")
# below takes the SRR IDs found in NE column headers, matches them to those found in the
# tissue table, and then changes them the GTEX sample ID
ind <- match(names(NE), tistab$Run)
names(NE) <- tistab$Sample_Name[ind]
# I guess now what I want to do is find the tissue that corresponds to each sample, and write
# to file the phenotypes or whatever
sites <- tistab[, split(Sample_Name, body_site)]
keep <- c('#Chr', 'start', 'end', 'ID')
lapply(sites, function(x)
NE[, .SD, .SDcols = c(keep, intersect(names(NE), x))])
require("data.table")
requirse("R.utils")
args = commandArgs(trailingOnly=TRUE)
# args[1] is the leafcutter-generated phenotypes, args[2] is the tissue table
NE <- fread("NE_sQTL_perind.counts.gz.qqnorm_chr13")
tistab <- fread("tissue_table.txt")
# below takes the SRR IDs found in NE column headers, matches them to those found in the
# tissue table, and then changes them the GTEX sample ID
ind <- match(names(NE), tistab$Run)
names(NE) <- tistab$Sample_Name[ind]
# I guess now what I want to do is find the tissue that corresponds to each sample, and write
# to file the phenotypes or whatever
sites <- with(tistab, split(Sample_Name, body_site))
keep <- c('#Chr', 'start', 'end', 'ID')
lapply(sites, function(x)
NE[, .SD, .SDcols = c(keep, intersect(names(NE), x))])
View(sites)
