libPaths()
libpaths
library(package)
libPath
libPaths
libPath()
libPaths()
.libPaths
.Library
.Lib
Library
.Library.site
.libPaths()
importIntoEnv()
exit
exit()
q()
.libPaths()
install.packages("swirl")
installed.packages("devtools")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter")
install.packages("rstan")
install.packages("rstan")
install.packages("Eigen")
install.packages("Dense")
install.packages("Eigen/Dense")
install.packages("rstan")
clear
l
if (!require("devtools")) install.packages("devtools", repos='http://cran.us.r-project.org')
devtools::install_github("davidaknowles/leafcutter/leafcutter", dependencies = TRUE)
install.packages("swirl")
getwd()
setwd("/home/arta/Documents/GitHub/Ne-sQTL/scratch")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
View(leafcut)
?data.table
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
View(gtexPC)
View(gtexPC)
View(leafcut)
out <- dplyr::bind_rows(leafcut, gtexPC)
View(out)
head(out)
outfile <- paste("output.txt")
write.table(out, file = outfile)
?bind_rows
?keep_rows
?keeprows
gtexPC <- t(gtexPC)
View(gtexPC)
leafcut <- t(leafcut)
library(data.table)
args = commandArgs(trailingOnly=TRUE)
NEdata <- fread(args[1], header=FALSE)
names(NEdata) <- c("PosID", "aAllele", "derAllele")
rsID <- fread(args[2], header=FALSE)
names(rsID) <- c("PosID", "rsID")
merge_data <- merge(NEdata[, c("PosID")], rsID, by = "PosID")
#!/usr/bin/env Rscript
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
out <- dplyr::bind_rows(leafcut, gtexPC)
rm out
rm(out)
rm(args)
rm(outfile)
gtexPC = t(gtexPC)
leafcut = t(leafcut)
a <- merge(gtexPC[, c("id")])
a <- merge(gtexPC[, c("id")], leafcut, by = "id")
View(leafcut)
View(gtexPC)
colnames(gtexPC)[colnames(data)=="ID"] <- "id"
View(gtexPC)
rownames(gtexPC)[colnames(data)=="ID"] <- "id")
rownames(gtexPC)[colnames(data)=="ID"] <- "id"
rownames(gtexPC)[colnames(data)=="ID"] <- "id"
row.names()
?row.names
?data.table
?merge
m <- data.table::merge
?data.table::merge
m <- data.table::merge(gtexPC, leafcut, by = "id")
m <- merge(gtexPC, leafcut, by = "id")
#!/usr/bin/env Rscript
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
rownames(gtexPC)[colnames(data)=="ID"] <- "id"
View(gtexPC)
colnames(gtexPC)[colnames(data)=="ID"] <- "id"
colnames(gtexPC)[colnames(data)=="ID"] <- "id"
colnames(gtexPC)[colnames(data)=="ID"] <- "id"
?setnames
setnames(gtexPC, "ID")
setnames(gtexPC, "ID", "id")
View(gtexPC)
m <- merge(leafcut, gtexPC, by = "id")
m <- merge(leafcut[, c(i)], gtexPC, by = "id")
m <- merge(leafcut[, c("id")], gtexPC, by = "id")
gtexPC = t(gtexPC)
leafcut = t(leafcut)
m <- merge(leafcut[, c("id")], gtexPC, by = "id")
m <- merge(leafcut[, c("id")], gtexPC, by = "id")
m <- merge(leafcut, gtexPC, by = "id")
?rbind
rbind(leafcut,gtexPC, use.names=T, fill=T)
source('~/Documents/GitHub/Ne-sQTL/scratch/mergePCs.R', echo=TRUE)
installed.packages("data.table")
#!/usr/bin/env Rscript
require("data.table")
library("data.table")
#!/usr/bin/env Rscript
require("data.table")
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
rbind(leafcut,gtexPC, use.names=T, fill=T)
q = rbind(leafcut,gtexPC, use.names=T, fill=T)
View(q)
?rbind.fill
library("plyr")
?rbind.fill
?data.table::rbind
q = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
View(q)
q = rbind(leafcut, gtexPC, use.names=T, fill=T)
q = t(q)
View(q)
?tools
tissue = tools::file_path_sans_ext(args[2])
tissue = tools::file_path_sans_ext("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
outfile <- paste(args[2], "_output.txt")
write.table(out, file = outfile)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- paste(args[2], "_output.txt")
outfile <- paste(tissue, "_output.txt")
tissue = gsub(" ", "", tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")), fixed = TRUE)
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile)
?write.ftable
?write.table
?write.ftable
?write.table
write.table(out, file = outfile, sep = "\t")
write.table(out, file = outfile, sep = "\t", eol="\r\t")
write.table(out, file = outfile, quote = FALSE, eol="\r\t")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, sep = "\t")
View(q)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
out = unname(t(out))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n")
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n", row.names = F, col.names = F)
View(leafcut)
rm(q)
View(out)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n", row.names = F, col.names = F)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T, idcol=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\n")
?require
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = cbind(leafcut,gtexPC, use.names=T, fill=T)
#out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
?rbind
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = t(out)
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out = t(out)
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
View(leafcut)
View(gtexPC)
?fread
View(leafcut)
View(gtexPC)
out = out[-1,]
View(out)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out = t(out)
#out = out[-1,]
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = t(out)
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out = out[-1,]
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
View(out)
out = out[,-1]
#out = out[-1,]
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = t(out)
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out = out[,-1]
#out = out[-1,]
# tissue = tools::file_path_sans_ext(basename(args[1]))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n")
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
out = t(out)
#out = out[,-1]
#out = out[-1,]
# tissue = tools::file_path_sans_ext(basename(args[1]))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
#!/usr/bin/env Rscript
require("data.table")
# arg 1 is leafcutter PCs, arg 2 is GTEx covariate file for tissue
args = commandArgs(trailingOnly=TRUE)
library("data.table")
# leafcut <- fread(args[1])
leafcut <- fread("testNE_sQTL_perind.counts.gz.PCs")
# gtexPC <- fread(args[2])
gtexPC <- fread("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt")
setnames(gtexPC, "ID", "id")
out = t(out)
out = rbind(leafcut,gtexPC, use.names=T, fill=T)
#out = out[,-1]
#out = out[-1,]
# tissue = tools::file_path_sans_ext(basename(args[1]))
tissue = tools::file_path_sans_ext(basename("GTEx_Analysis_v7_eQTL_covariates/Adipose_Subcutaneous.v7.covariates.txt"))
outfile <- gsub(" ", "", paste(tissue, "_output.txt"), fixed = TRUE)
write.table(out, file = outfile, quote = F, sep= "\t", eol = "\r\n", row.names = F)
?rbind
