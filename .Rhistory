install.packages(c("data.table", "dplyr", "tidyr"))
getwd()
library(data.table)
library(tidyverse)
dt <- fread("Muscle_Skeletal_filteredTable_horizontal.txt", header = T)
colnames(dt) <- c("variant_id", "transcript_id", "HH", "HNL", "NLNL")
library(data.table)
library(tidyverse)
dt <- fread("Muscle_Skeletal_filteredTable_horizontal.txt", header = T)
colnames(dt) <- c("variant_id", "transcript_id", "HH", "HNL", "NLNL")
dt <- dt %>%
mutate_at(vars(HH:NLNL), list(new = ~str_split(., ";") )) %>%
mutate_at(vars(HH_ratio:NLNL_ratio), list(~map_dbl(., ~as.numeric(.x) %>%
{.[[1]]/.[[2]]})))
dt <- dt %>%
mutate_at(vars(HH:NLNL), list(ratio = ~str_split(., ";") )) %>%
mutate_at(vars(HH_ratio:NLNL_ratio), list(~map_dbl(., ~as.numeric(.x) %>%
{.[[1]]/.[[2]]})))
View(dt)
dt$diff <- (dt$NLNL_ratio - dt$HH_ratio)
View(dt)
